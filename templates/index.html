
<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <title>Store Management System</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
            background-image: url('/static/images/store_image.jpg');
            background-size: cover;  /* Adjust as needed */
            background-position: center;  /* Adjust as needed */
            background-repeat: no-repeat;
            backdrop-filter: blur(5px);
            

        }

        h1 {
            padding: 10px;
            margin-top: 20px;
            font-size: 2.9em;
            text-align: center;
            color: #fff;
            text-shadow: 0 0 5px #030303, 0 0 7px #0b0b2c;
        }

        .search-form {
            justify-content: center;
        }

        .table_edit {
            max-width: 80%;
            margin: 20px auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }

        th, td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        th {
            background-color: #f2f2f2;
        }

        img {
            max-width: 100px;
            max-height: 100px;
            border-radius: 4px;
        }

        .btn-group {
            display: flex;
            justify-content: center;
        }

        .yellow_but {
            margin-right: 10px;
        }

        .green_but {
            margin-left: 10px;
        }

        .btn-warning,
        .btn-success {
            width: 80px;
        }

        .btn-dark {
            margin-top: 20px;
        }

        .back-link {
            display: block;
            margin-top: 20px;
            text-align: center;
            color: #007bff;
            text-decoration: none;
        }

        .back-link:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <h1><b>Store Management System</b></h1>

    <!-- Search Form -->
    <!-- <form method="get" action="{{ url_for('search') }}" class="search-form">
        <button type="submit">Search</button>
    </form> -->

    <div class='table_edit'>
        <table>
            <caption>Manage <b>Products</b>
                <a href="{{ url_for('search') }}">
                    <button type="submit" class="btn btn-dark float-end">Search</button>
                </a>
                <!-- <form method="get" action="{{ url_for('search') }}" class="search-form">
                    <button type="submit">Search</button>
                </form> -->
                <a href="{{ url_for('add_product') }}">
                    <button type="button" class="btn btn-dark float-end">Add Product</button>
                </a>
            </caption>
            <thead>
                <tr><th>Sr. No</th>
                    <!-- <th>ID</th> -->
                    <th>Name</th>
                    <th>Category</th>
                    <th>Price</th>
                    <th>Quantity</th>
                    <th>Photo</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                {% for product in products %}
                    <tr>
                        <td>{{ loop.index }}</td>
                        <!-- <td>{{ product.id }}</td> -->
                        <td>{{ product.name }}</td>
                        <td>{{ product.category }}</td>
                        <td>{{ product.price }}</td>
                        <td>{{ product.quantity }}</td>
                        <!-- <td><img src="{{ url_for('static', filename='images/' + product.photo) }}" alt="{{ product.name }}"></td> -->
                        <td>
                            {% if product.photo %}
                                <img src="{{ url_for('static', filename='images/' + product.photo) }}" alt="{{ product.name }}" class="img-fluid">
                            {% else %}
                                <span>No Photo</span>
                            {% endif %}
                        </td>
                        <td>
                            <center>
                                <div class="btn-group" role="group" aria-label="Basic mixed styles example">
                                    <div class="yellow_but">
                                        <a href="{{ url_for('edit_product', product_id=product.id) }}">
                                            <button type="button" class="btn btn-warning">Edit</button>
                                        </a>
                                    </div>
                                    <div class="green_but">
                                        <a href="{{ url_for('delete_product', product_id=product.id) }}" onclick="return confirm('Are you sure you want to delete this product?')">
                                            <button type="button" class="btn btn-success">Delete</button>
                                        </a>
                                    </div>
                                </div>
                            </center>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
        <!-- Pagination -->
        <nav aria-label="Page navigation example">
            <ul class="pagination justify-content-center">
                {% if total_pages > 1 %}
                    {% if page > 1 %}
                        <li class="page-item">
                            <a class="page-link" href="{{ url_for('index', page=page-1) }}" aria-label="Previous">
                                <span aria-hidden="true">&laquo;</span>
                            </a>
                        </li>
                    {% endif %}

                    {% for p in range(1, total_pages + 1) %}
                        <li class="page-item {% if p == page %}active{% endif %}">
                            <a class="page-link" href="{{ url_for('index', page=p) }}">{{ p }}</a>
                        </li>
                    {% endfor %}

                    {% if page < total_pages %}
                        <li class="page-item">
                            <a class="page-link" href="{{ url_for('index', page=page+1) }}" aria-label="Next">
                                <span aria-hidden="true">&raquo;</span>
                            </a>
                        </li>
                    {% endif %}
                {% endif %}
            </ul>
        </nav>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
</body>
</html>
    